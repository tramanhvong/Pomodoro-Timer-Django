<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pomodoro Timer</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        <link rel='icon' href="{{ url_for('static', filename='favicon.ico') }}"">    
    </head>
</html>
<body>
    <div class="timer-container">
        <h1>Pomodoro Timer</h1>
        <div id="timer" class="timer">25:00</div>
        <button id="start-button" class="button">Start</button>
        <button id="stop-button" class="button">Stop</button>
        <button id="reset-button" class="button">Reset</button>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        const startButton = document.getElementById('start-button');
        const stopButton = document.getElementById('stop-button');
        const resetButton = document.getElementById('reset-button');
        const timerDisplay = document.getElementById('timer');

        let timerInterval;
        let timeLeft = 1500; // 25 minutes in seconds

        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function startTimer() {
            if (timerInterval) return; // Prevent multiple intervals
            timerInterval = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    updateDisplay();
                } else {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    alert("Time's up!");
                }
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
        }

        function resetTimer() {
            stopTimer();
            timeLeft = 1500; // Reset to 25 minutes
            updateDisplay();
        }

        startButton.addEventListener('click', startTimer);
        stopButton.addEventListener('click', stopTimer);
        resetButton.addEventListener('click', resetTimer);

        updateDisplay(); // Initial display update
    </script>

    <div class="tasklist-container">
        <h2>Task List</h2>
        <ul id="task-list"></ul>
        <input type="text" id="task-input" placeholder="Add a new task...">
        <button id="add-task-button">Add Task</button>
</body>
